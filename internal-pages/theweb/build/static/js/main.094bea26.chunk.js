(window.webpackJsonptheweb=window.webpackJsonptheweb||[]).push([[0],{21:function(e,t,n){e.exports=n(35)},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),l=n.n(c),i=n(1),u=n(2),o=n(3),s=n(4),E=n(5),h=(n(9),function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},this.props.title)}}]),t}(r.a.Component)),m=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"miniheader"},this.props.title)}}]),t}(r.a.Component),p=(r.a.Component,function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"itemContents",value:function(){var e=[];return this.props.icon&&e.push(r.a.createElement("img",{key:"image",src:"theweb://sysicons/?width=32&height=32&icons="+encodeURIComponent(this.props.icon),style:{"padding-right":"3px"}})),e.push(r.a.createElement("span",{key:"text"},this.props.text)),e}},{key:"render",value:function(){var e="ListItem";return"true"===this.props.selected&&(e+=" selected"),r.a.createElement("div",{className:e,onClick:this.props.onClick},this.itemContents())}}]),t}(r.a.Component)),b=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"verticalContent"+(this.props.noBorder?"":" Content")},this.props.children)}}]),t}(r.a.Component),d=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"horizontalLine"})}}]),t}(r.a.Component),f=n(6),O=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=function(t){return function(){return e.props.onChange(t)}},n=function(t){return e.props.currentPane===t?"true":"false"};return r.a.createElement(f.a,null,function(e,a){a.i18n;return r.a.createElement("div",{className:"Sidebar"},r.a.createElement(h,{title:"theWeb"}),r.a.createElement(p,{icon:"sys:bookmark-new",text:e("BOOKMARKS_TITLE")}),r.a.createElement(p,{icon:"sys:downloads",text:e("DOWNLOADS_TITLE")}),r.a.createElement(d,null),r.a.createElement(p,{icon:"sys:configure",text:e("SETTINGS_TITLE"),onClick:t("settings"),selected:n("settings")}),r.a.createElement(p,{icon:"sys:help-about",text:e("ABOUT_TITLE"),onClick:t("about"),selected:n("about")}))})}}]),t}(r.a.Component),v=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,[{key:"get",value:function(e){return new Promise(function(t,n){var a=new XMLHttpRequest;a.addEventListener("load",function(){t(a.responseText)}),a.addEventListener("error",function(){n()}),a.open("GET",e),a.send()})}},{key:"lang",value:function(){return this.get("theweb://api/lang")}},{key:"isOblivion",value:function(){return this.get("theweb://api/oblivion").then(function(e){return JSON.parse(e).isOblivion})}}]),e}(),T=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"getSettings",value:function(){return this.get("theweb://api/settings").then(function(e){return JSON.parse(e)})}},{key:"value",value:function(e,t){return this.getSettings().then(function(n){return n.hasOwnProperty(e)?n[e]:t})}},{key:"setValue",value:function(e,t){return new Promise(function(n,a){var r=new XMLHttpRequest;r.addEventListener("load",function(){n()}),r.addEventListener("error",function(){a()}),r.open("GET","theweb://api/settings/set?key=".concat(encodeURIComponent(e),"&value=").concat(encodeURIComponent(t))),r.send()})}}]),t}(v),j=new v,S=new T,y=0;function N(){var e="el".concat(y);return y++,e}var g=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={elId:N(),currentValue:n.props.defaultValue,dummy:null===n.props.settingsKey},null!==n.props.settingsKey&&S.value(n.props.settingsKey,n.props.defaultValue).then(function(e){n.setState({currentValue:e})}),n}return Object(E.a)(t,e),Object(u.a)(t,[{key:"setValue",value:function(e){this.setState({currentValue:e}),this.state.dummy||S.setValue(this.props.settingsKey,e)}},{key:"render",value:function(){return r.a.createElement("div",{style:{"background-color":"red",border:"1px solid yellow",padding:"3px"}},"I am an unimplemented setting toggle. !!!IMPLEMENT ME!!!")}}]),t}(r.a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"generateElements",value:function(){var e=this,t=[],n=!0,a=!1,c=void 0;try{for(var l,i=function(){var n=l.value;t.push(r.a.createElement("div",{key:n.value+e.state.elId},r.a.createElement("label",{key:n.value+e.state.elId+"label"},r.a.createElement("input",{type:"radio",key:n.value+e.state.elId+"radio",name:e.state.elId,value:n.value,checked:e.state.currentValue===n.value,onChange:function(t){t.target.value&&e.setValue(n.value)}}),n.text)))},u=this.props.options[Symbol.iterator]();!(n=(l=u.next()).done);n=!0)i()}catch(o){a=!0,c=o}finally{try{n||null==u.return||u.return()}finally{if(a)throw c}}return t}},{key:"render",value:function(){return r.a.createElement(b,{noBorder:"true"},this.generateElements())}}]),t}(g),_=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).call(this,e))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"getInputType",value:function(){switch(this.props.validation){case"url":return"url";default:return"text"}}},{key:"render",value:function(){var e=this;return r.a.createElement("input",{type:this.getInputType(),value:this.state.currentValue,placeholder:this.props.placeholder,onChange:function(t){e.setState({currentValue:t.target.value})},onFocusOut:function(t){e.setValue(t.target.value)}})}}]),t}(g),C=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:this.state.currentValue,onChange:function(t){e.setValue(t.target.checked)}}),this.props.text)}}]),t}(g),A=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=function(t){return function(){return e.props.onChange(t)}},n=function(t){return e.props.currentPane===t?"true":"false"};return r.a.createElement(f.a,null,function(e,a){a.i18n;return r.a.createElement("div",{className:"Sidebar"},r.a.createElement(h,{title:e("SETTINGS_TITLE")}),r.a.createElement(p,{text:e("SETTINGS_GENERAL"),onClick:t("general"),selected:n("general")}),r.a.createElement(p,{text:e("SETTINGS_PRIVACY"),onClick:t("privacy"),selected:n("privacy")}),r.a.createElement(p,{text:e("SETTINGS_WEBSITES"),onClick:t("websites"),selected:n("websites")}),r.a.createElement(p,{text:e("SETTINGS_ADVANCED"),onClick:t("advanced"),selected:n("advanced")}))})}}]),t}(r.a.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,function(e,t){t.i18n;return r.a.createElement("div",null,r.a.createElement(h,{title:e("SETTINGS_PRIVACY")}),r.a.createElement(b,null,r.a.createElement(m,{title:e("SETTINGS_PRIVACY_CLEAR")}),r.a.createElement("p",null,e("SETTINGS_PRIVACY_CLEAR_EXPLANATION")),r.a.createElement(C,{text:e("SETTINGS_PRIVACY_CLEAR_HISTORY"),defaultValue:!0}),r.a.createElement(C,{text:e("SETTINGS_PRIVACY_CLEAR_COOKIES"),defaultValue:!0}),r.a.createElement(C,{text:e("SETTINGS_PRIVACY_CLEAR_CACHE"),defaultValue:!0}),r.a.createElement("button",{onClick:function(){window.confirm("Clear Data??????")}},e("SETTINGS_PRIVACY_CLEAR_ACTION"))),r.a.createElement(d,null),r.a.createElement(b,null,r.a.createElement(m,{title:e("SETTINGS_PRIVACY")}),r.a.createElement("p",null,e("SETTINGS_PRIVACY_TOGGLES_EXPLANATION")),r.a.createElement(C,{text:e("SETTINGS_PRIVACY_TOGGLES_DNT"),defaultValue:!0,settingsKey:"privacy/dnt"})))})}}]),t}(r.a.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,function(e,t){t.i18n;return r.a.createElement("div",null,r.a.createElement(h,{title:e("SETTINGS_GENERAL")}),r.a.createElement(b,null,r.a.createElement(m,{title:e("SETTINGS_GENERAL_STARTUP")}),r.a.createElement("p",null,e("SETTINGS_GENERAL_STARTUP_EXPLANATION")),r.a.createElement(I,{options:[{value:"homepage",text:e("SETTINGS_STARTUP_HOME_PAGE")},{value:"newtab",text:e("SETTINGS_STARTUP_NEW_TAB")}],defaultValue:"newtab",settingsKey:"startup/action"})),r.a.createElement(d,null),r.a.createElement(b,null,r.a.createElement(m,{title:e("SETTINGS_GENERAL_HOME_PAGE")}),r.a.createElement("p",null,e("SETTINGS_GENERAL_HOME_PAGE_EXPLANATION")),r.a.createElement(_,{defaultValue:"https://vicr123.com/",settingsKey:"startup/home",validation:"url"})))})}}]),t}(r.a.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,function(e,t){t.i18n;return r.a.createElement("div",null,r.a.createElement(h,{title:e("SETTINGS_ADVANCED")}),r.a.createElement(b,null,r.a.createElement(m,{title:e("SETTINGS_ADVANCED_RESET")}),r.a.createElement("p",null,e("SETTINGS_ADVANCED_RESET_EXPLANATION")),r.a.createElement("button",null,e("SETTINGS_ADVANCED_RESET_ACTION"))))})}}]),t}(r.a.Component),L=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={currentPane:"general"},n}return Object(E.a)(t,e),Object(u.a)(t,[{key:"currentSettingsPane",value:function(){switch(this.state.currentPane){case"general":return r.a.createElement(P,null);case"privacy":return r.a.createElement(k,null);case"advanced":return r.a.createElement(w,null);default:return r.a.createElement(f.a,null,function(e,t){t.i18n;return r.a.createElement("div",null,r.a.createElement(h,{title:e("INVALID_PAGE_TITLE")}),r.a.createElement("div",{className:"Content"},e("INVALID_PAGE_CONTENT")))})}}},{key:"changePane",value:function(e){this.setState({currentPane:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,function(t,n){n.i18n;return r.a.createElement("div",{className:"App"},r.a.createElement(A,{currentPane:e.state.currentPane,onChange:function(t){return e.changePane(t)}}),r.a.createElement("div",{className:"AppContainer"},e.currentSettingsPane()))})}}]),t}(r.a.Component),G=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,function(e,t){t.i18n;return r.a.createElement("div",null,r.a.createElement(h,{title:e("ABOUT_TITLE")}),r.a.createElement(b,null,"who knows something goes here"))})}}]),t}(r.a.Component),V=(n(34),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"urlBar",placeholder:"https://vicr123.com",onKeyDown:function(e){13==e.keyCode&&(document.location=e.target.value)}}))}}]),t}(r.a.Component)),R=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={oblivion:!1},j.isOblivion().then(function(e){n.setState({oblivion:e})}),n}return Object(E.a)(t,e),Object(u.a)(t,[{key:"oblivionComponent",value:function(){if(this.state.oblivion)return r.a.createElement(f.a,null,function(e,t){t.i18n;return r.a.createElement(b,null,r.a.createElement("div",{className:"alert"},r.a.createElement(m,{title:e("NEWTAB_OBLIVION_TITLE")}),e("NEWTAB_OBLIVION_EXPLANATION")))})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,function(t,n){n.i18n;return r.a.createElement("div",{style:{position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px"}},e.oblivionComponent(),r.a.createElement("div",{className:"newTabContainer"},r.a.createElement("h1",null,t("NEWTAB_GO_PROMPT")),r.a.createElement(V,null)))})}}]),t}(r.a.Component),x=n(20),D=n(19);x.a.use(D.a).use(f.b).init({fallbackLng:["en",!1],ns:["translation"],backend:{loadPath:"theweb://translations/{{lng}}/{{ns}}.json"},react:{useSuspense:!1}});var B=function(e){function t(e){var n;Object(i.a)(this,t),n=Object(o.a)(this,Object(s.a)(t).call(this,e));var a={lang:"en",showSidebar:!0},r=window.location.pathname.substr(2);return r.startsWith("settings")?a.currentPane="settings":r.startsWith("about")?a.currentPane="about":(r.startsWith("newTab"),a.currentPane="newtab",a.showSidebar=!1),n.state=a,n}return Object(E.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Loading language"),j.lang().then(function(t){e.setState({lang:t})}).catch(function(){console.log("Language not obtainable")}),window.addEventListener("popstate",this.popState.bind(this))}},{key:"popState",value:function(e){document.location.pathname.startsWith("//settings")?this.setState({currentPane:"settings"}):document.location.pathname.startsWith("//about")&&this.setState({currentPane:"about"})}},{key:"componentNode",value:function(){var e=this;return r.a.createElement(f.a,null,function(t,n){n.i18n;switch(e.state.currentPane){case"settings":return document.title=t("SETTINGS_TITLE"),r.a.createElement(L,null);case"about":return document.title=t("ABOUT_TITLE"),r.a.createElement(G,null);case"newtab":return document.title=t("NEWTAB_TITLE"),r.a.createElement(R,null);default:return document.title="theWeb",r.a.createElement("div",null,r.a.createElement(h,{title:t("INVALID_PAGE_TITLE")}),r.a.createElement("div",{className:"Content"},t("INVALID_PAGE_CONTENT")))}})}},{key:"changePane",value:function(e){try{switch(e){case"settings":window.history.pushState({},"","theweb://settings");break;case"about":window.history.pushState({},"","theweb://about")}}catch(t){}this.setState({currentPane:e})}},{key:"sidebarElement",value:function(){var e=this;if(this.state.showSidebar)return r.a.createElement(O,{onChange:function(t){return e.changePane(t)},currentPane:this.state.currentPane})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,function(t,n){var a=n.i18n;return a.language!==e.state.lang&&a.changeLanguage(e.state.lang),r.a.createElement("div",{className:"App"},e.sidebarElement(),r.a.createElement("div",{className:"AppContainer"},e.componentNode()))})}}]),t}(r.a.Component);l.a.render(r.a.createElement(B,null),document.getElementById("root"))},9:function(e,t,n){}},[[21,1,2]]]);
//# sourceMappingURL=main.094bea26.chunk.js.map