{"version":3,"sources":["textblocks.jsx","listitem.jsx","layouts.jsx","sidebar.jsx","api.js","settingstoggles.jsx","settings.jsx","about.jsx","App.jsx","index.jsx"],"names":["Header","props","className","this","title","React","Component","MiniHeader","ListItem","contents","icon","push","key","src","encodeURIComponent","style","text","cls","selected","onClick","itemContents","VerticalLayout","noBorder","children","HorizontalLine","Sidebar","_","paneName","onChange","sel","currentPane","t","i18n","Api","url","Promise","res","rej","request","XMLHttpRequest","addEventListener","responseText","open","send","get","Settings","then","JSON","parse","defaultValue","getSettings","settings","hasOwnProperty","value","api","lastId","getNextId","retval","SettingToggle","state","elId","currentValue","dummy","settingsKey","setState","setValue","RadioButtonGroup","elements","option","type","name","checked","e","target","options","generateElements","LineEdit","validation","getInputType","placeholder","onFocusOut","CheckBox","SettingsSidebar","SettingsPrivacyPane","window","confirm","SettingsGeneralPane","SettingsAdvancedPane","pane","changePane","currentSettingsPane","About","use","XHR","initReactI18next","init","fallbackLng","ns","backend","loadPath","process","react","useSuspense","App","s","lang","path","location","pathname","substr","startsWith","console","log","catch","popState","bind","document","history","pushState","err","language","changeLanguage","componentNode","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f960f3b9.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\n\r\nclass Header extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    render() {\r\n        return <div className=\"header\">\r\n            {this.props.title}\r\n        </div>\r\n    }\r\n}\r\n\r\nclass MiniHeader extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    render() {\r\n        return <div className=\"miniheader\">\r\n            {this.props.title}\r\n        </div>\r\n    }\r\n}\r\n\r\nclass PaddedText extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    render() {\r\n        return <div className=\"Content\">\r\n            {this.props.title}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport { Header };\r\nexport { MiniHeader };\r\nexport { PaddedText };\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nclass ListItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    itemContents() {\r\n        let contents = [];\r\n        if (this.props.icon) {\r\n            contents.push(<img key=\"image\" src={\"theweb://sysicons/?width=32&height=32&icons=\" + encodeURIComponent(this.props.icon)} style={{\"padding-right\": \"3px\"}} />)\r\n        }\r\n        contents.push(<span key=\"text\">{this.props.text}</span>);\r\n        return contents;\r\n    }\r\n    \r\n    render() {\r\n        let cls = \"ListItem\";\r\n        if (this.props.selected === \"true\") cls += \" selected\";\r\n        return <div className={cls} onClick={this.props.onClick}>\r\n            {this.itemContents()}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default ListItem;\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nclass VerticalLayout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    render() {\r\n        return <div className={\"verticalContent\" + (this.props.noBorder ? \"\" : \" Content\")}>\r\n            {this.props.children}\r\n        </div>\r\n    }\r\n}\r\n\r\nclass HorizontalLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    render() {\r\n        return <div className=\"horizontalLine\" />\r\n    }\r\n}\r\n\r\nexport { VerticalLayout };\r\nexport { HorizontalLine };","import React from 'react';\r\nimport './App.css';\r\nimport { Header } from './textblocks.jsx'\r\nimport ListItem from './listitem.jsx'\r\nimport { HorizontalLine } from './layouts.jsx'\r\n\r\nimport { Translation } from 'react-i18next';\r\n\r\nclass Sidebar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    render() {\r\n        let _ = (paneName) => {\r\n            return () => this.props.onChange(paneName);\r\n        }\r\n        \r\n        let sel = (paneName) => {\r\n            return this.props.currentPane === paneName ? \"true\" : \"false\";\r\n        }\r\n        \r\n        return <Translation>{(t, {i18n}) =>\r\n            <div className=\"Sidebar\">\r\n                <Header title=\"theWeb\" />\r\n                <ListItem icon=\"sys:bookmark-new\" text={t('BOOKMARKS_TITLE')} />\r\n                <ListItem icon=\"sys:downloads\" text={t('DOWNLOADS_TITLE')} />\r\n                <HorizontalLine />\r\n                <ListItem icon=\"sys:configure\" text={t('SETTINGS_TITLE')} onClick={_(\"settings\")} selected={sel(\"settings\")} />\r\n                <ListItem icon=\"sys:help-about\" text={t('ABOUT_TITLE')} onClick={_(\"about\")} selected={sel(\"about\")} />\r\n            </div>\r\n        }</Translation>\r\n    }\r\n}\r\n\r\nexport default Sidebar;\r\n","class Api {\r\n    get(url) {\r\n        return new Promise((res, rej) => {\r\n            let request = new XMLHttpRequest();\r\n            request.addEventListener(\"load\", () => {\r\n                res(request.responseText);\r\n            });\r\n            request.addEventListener(\"error\", () => {\r\n                rej();\r\n            });\r\n            request.open(\"GET\", url);\r\n            request.send();\r\n        });\r\n    }\r\n    \r\n    lang() {\r\n        return this.get(\"theweb://api/lang\");\r\n    }\r\n}\r\n\r\nclass Settings extends Api {\r\n    getSettings() {\r\n        return this.get(\"theweb://api/settings\").then((res) => {\r\n            return JSON.parse(res);\r\n        });\r\n    }\r\n    \r\n    value(key, defaultValue) {\r\n        return this.getSettings().then((settings) => {\r\n            if (settings.hasOwnProperty(key)) {\r\n                return settings[key];\r\n            } else {\r\n                return defaultValue;\r\n            }\r\n        });\r\n    }\r\n    \r\n    setValue(key, value) {\r\n        return new Promise((res, rej) => {\r\n            let request = new XMLHttpRequest();\r\n            request.addEventListener(\"load\", () => {\r\n                res();\r\n            });\r\n            request.addEventListener(\"error\", () => {\r\n                rej();\r\n            });\r\n            request.open(\"GET\", `theweb://api/settings/set?key=${encodeURIComponent(key)}&value=${encodeURIComponent(value)}`);\r\n            request.send();\r\n        });\r\n    }\r\n}\r\n\r\nlet api = new Api();\r\nlet settings = new Settings();\r\n\r\nexport { api };\r\nexport { settings };","import React from 'react';\r\nimport './App.css';\r\n\r\nimport { settings } from './api.js';\r\nimport { VerticalLayout } from './layouts.jsx';\r\n\r\nlet lastId = 0;\r\nfunction getNextId() {\r\n    let retval = `el${lastId}`;\r\n    lastId++;\r\n    return retval;\r\n}\r\n\r\nclass SettingToggle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            elId: getNextId(),\r\n            currentValue: this.props.defaultValue,\r\n            dummy: this.props.settingsKey === null\r\n        }\r\n        \r\n        if (this.props.settingsKey !== null) {\r\n            settings.value(this.props.settingsKey, this.props.defaultValue).then((value) => {\r\n                this.setState({\r\n                    currentValue: value\r\n                });\r\n            });\r\n        }\r\n    }\r\n    \r\n    setValue(value) {\r\n        this.setState({\r\n            currentValue: value\r\n        });\r\n        \r\n        if (!this.state.dummy) {\r\n            settings.setValue(this.props.settingsKey, value);\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return <div style={{\"background-color\": \"red\", \"border\": \"1px solid yellow\", \"padding\": \"3px\"}}>I am an unimplemented setting toggle. !!!IMPLEMENT ME!!!</div>\r\n    }\r\n}\r\n\r\nclass RadioButtonGroup extends SettingToggle {\r\n    componentDidMount() {\r\n    \r\n    }\r\n    \r\n    generateElements() {\r\n        let elements = [];\r\n        for (const option of this.props.options) {\r\n            let onChangeHandler = (e) => {\r\n                if (e.target.value) {\r\n                    this.setValue(option.value);\r\n                }\r\n            };\r\n            \r\n            elements.push(<div key={option.value + this.state.elId}>\r\n                <label key={option.value + this.state.elId + \"label\"}>\r\n                    <input type=\"radio\" key={option.value + this.state.elId + \"radio\"} name={this.state.elId} value={option.value} checked={this.state.currentValue === option.value ? true : false} onChange={onChangeHandler} />\r\n                    {option.text}\r\n                </label>\r\n            </div>)\r\n        }\r\n        return elements;\r\n    }\r\n    \r\n    render() {\r\n        return <VerticalLayout noBorder='true'>\r\n            {this.generateElements()}\r\n        </VerticalLayout>\r\n    }\r\n}\r\n\r\nclass LineEdit extends SettingToggle {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    getInputType() {\r\n        switch (this.props.validation) {\r\n            case \"url\":\r\n                return \"url\";\r\n            default:\r\n                return \"text\";\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        let onChangeHandler = (e) => {\r\n            this.setState({\r\n                currentValue: e.target.value\r\n            });\r\n        };\r\n        let focusOutHandler = (e) => {\r\n            this.setValue(e.target.value);\r\n        };\r\n        \r\n        return <input type={this.getInputType()} value={this.state.currentValue} placeholder={this.props.placeholder} onChange={onChangeHandler} onFocusOut={focusOutHandler}/>\r\n    }\r\n}\r\n\r\nclass CheckBox extends SettingToggle {\r\n    render() {\r\n        let onChangeHandler = (e) => {\r\n            this.setValue(e.target.checked);\r\n        };\r\n        \r\n        return <label>\r\n            <input type=\"checkbox\" checked={this.state.currentValue} onChange={onChangeHandler} />\r\n            {this.props.text}\r\n        </label>\r\n    }\r\n}\r\n\r\nexport { RadioButtonGroup };\r\nexport { LineEdit };\r\nexport { CheckBox };","import React from 'react';\r\nimport './App.css';\r\nimport { Header, MiniHeader } from './textblocks.jsx'\r\nimport { VerticalLayout, HorizontalLine } from './layouts.jsx'\r\nimport ListItem from './listitem.jsx'\r\nimport { Translation } from 'react-i18next';\r\nimport { RadioButtonGroup, LineEdit, CheckBox } from './settingstoggles.jsx'\r\n\r\nclass SettingsSidebar extends React.Component {\r\n    render() {\r\n        let _ = (paneName) => {\r\n            return () => this.props.onChange(paneName);\r\n        }\r\n        \r\n        let sel = (paneName) => {\r\n            return this.props.currentPane === paneName ? \"true\" : \"false\";\r\n        }\r\n        \r\n        return <Translation>{(t, {i18n}) =>\r\n            <div className=\"Sidebar\">\r\n                <Header title={t('SETTINGS_TITLE')} />\r\n                <ListItem text={t('SETTINGS_GENERAL')} onClick={_(\"general\")} selected={sel(\"general\")} />\r\n                <ListItem text={t('SETTINGS_PRIVACY')} onClick={_(\"privacy\")} selected={sel(\"privacy\")} />\r\n                <ListItem text={t('SETTINGS_WEBSITES')} onClick={_(\"websites\")} selected={sel(\"websites\")} />\r\n                <ListItem text={t('SETTINGS_ADVANCED')} onClick={_(\"advanced\")} selected={sel(\"advanced\")} />\r\n            </div>\r\n        }</Translation>\r\n    }\r\n}\r\n\r\nclass SettingsPrivacyPane extends React.Component {\r\n    render() {\r\n        return <Translation>{(t, {i18n}) =>\r\n            <div>\r\n                <Header title={t('SETTINGS_PRIVACY')} />\r\n                <VerticalLayout>\r\n                    <MiniHeader title={t('SETTINGS_PRIVACY_CLEAR')} />\r\n                    <p>{t('SETTINGS_PRIVACY_CLEAR_EXPLANATION')}</p>\r\n                    <CheckBox text={t('SETTINGS_PRIVACY_CLEAR_HISTORY')} defaultValue={true} />\r\n                    <CheckBox text={t('SETTINGS_PRIVACY_CLEAR_COOKIES')} defaultValue={true} />\r\n                    <CheckBox text={t('SETTINGS_PRIVACY_CLEAR_CACHE')} defaultValue={true} />\r\n                    <button onClick={() => {window.confirm(\"Clear Data??????\")}}>{t('SETTINGS_PRIVACY_CLEAR_ACTION')}</button>\r\n                </VerticalLayout>\r\n                <HorizontalLine />\r\n                <VerticalLayout>\r\n                    <MiniHeader title={t('SETTINGS_PRIVACY')} />\r\n                    <p>{t('SETTINGS_PRIVACY_TOGGLES_EXPLANATION')}</p>\r\n                    <CheckBox text={t('SETTINGS_PRIVACY_TOGGLES_DNT')} defaultValue={true} settingsKey=\"privacy/dnt\" />\r\n                </VerticalLayout>\r\n            </div>\r\n        }</Translation>\r\n    }\r\n}\r\n\r\nclass SettingsGeneralPane extends React.Component {\r\n    render() {\r\n        return <Translation>{(t, {i18n}) =>\r\n            <div>\r\n                <Header title={t('SETTINGS_GENERAL')} />\r\n                <VerticalLayout>\r\n                    <MiniHeader title={t('SETTINGS_GENERAL_STARTUP')} />\r\n                    <p>{t('SETTINGS_GENERAL_STARTUP_EXPLANATION')}</p>\r\n                    <RadioButtonGroup options={\r\n                        [\r\n                            {value: \"homepage\", text: t('SETTINGS_STARTUP_HOME_PAGE')},\r\n                            {value: \"newtab\", text: t('SETTINGS_STARTUP_NEW_TAB')}\r\n                        ]\r\n                    } defaultValue='newtab' settingsKey='startup/action'/>\r\n                </VerticalLayout>\r\n                <HorizontalLine />\r\n                <VerticalLayout>\r\n                    <MiniHeader title={t('SETTINGS_GENERAL_HOME_PAGE')} />\r\n                    <p>{t('SETTINGS_GENERAL_HOME_PAGE_EXPLANATION')}</p>\r\n                    <LineEdit defaultValue=\"https://vicr123.com/\" settingsKey=\"startup/home\" validation=\"url\" />\r\n                </VerticalLayout>\r\n            </div>\r\n        }</Translation>\r\n    }\r\n}\r\n\r\nclass SettingsAdvancedPane extends React.Component {\r\n    render() {\r\n        return <Translation>{(t, {i18n}) =>\r\n            <div>\r\n                <Header title={t('SETTINGS_ADVANCED')} />\r\n                <VerticalLayout>\r\n                    <MiniHeader title={t('SETTINGS_ADVANCED_RESET')} />\r\n                    <p>{t('SETTINGS_ADVANCED_RESET_EXPLANATION')}</p>\r\n                    <button>{t('SETTINGS_ADVANCED_RESET_ACTION')}</button>\r\n                </VerticalLayout>\r\n            </div>\r\n        }</Translation>\r\n    }\r\n}\r\n\r\nclass Settings extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            currentPane: \"general\"\r\n        };\r\n    }\r\n    \r\n    currentSettingsPane() {\r\n        switch (this.state.currentPane) {\r\n            case \"general\":\r\n                return <SettingsGeneralPane />;\r\n            case \"privacy\":\r\n                return <SettingsPrivacyPane />;\r\n            case \"advanced\":\r\n                return <SettingsAdvancedPane />;\r\n            default:\r\n                return <Translation>{(t, {i18n}) => \r\n                    <div>\r\n                        <Header title={t('INVALID_PAGE_TITLE')} />\r\n                        <div className=\"Content\">\r\n                            {t('INVALID_PAGE_CONTENT')}\r\n                        </div>\r\n                    </div>\r\n                }</Translation>\r\n        }\r\n    }\r\n    \r\n    changePane(pane) {\r\n        this.setState({\r\n            currentPane: pane\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        return <Translation>{(t, {i18n}) =>\r\n            <div className=\"App\">\r\n                <SettingsSidebar currentPane={this.state.currentPane} onChange={(paneName) => this.changePane(paneName)} />\r\n                <div className=\"AppContainer\">\r\n                    {this.currentSettingsPane()}\r\n                </div>\r\n            </div>\r\n        }</Translation>\r\n    }\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { Header, MiniHeader } from './textblocks.jsx'\r\nimport { VerticalLayout, HorizontalLine } from './layouts.jsx'\r\nimport ListItem from './listitem.jsx'\r\nimport { Translation } from 'react-i18next';\r\nimport { RadioButtonGroup, LineEdit, CheckBox } from './settingstoggles.jsx'\r\n\r\nclass About extends React.Component {\r\n    render() {\r\n        return <Translation>{(t, {i18n}) =>\r\n            <div>\r\n                <Header title={t('ABOUT_TITLE')} />\r\n                <VerticalLayout>\r\n                    who knows something goes here\r\n                </VerticalLayout>\r\n            </div>\r\n        }</Translation>\r\n    }\r\n}\r\n\r\nexport default About;","import React from 'react';\r\nimport './App.css';\r\nimport Sidebar from './sidebar.jsx';\r\nimport { Header } from './textblocks.jsx'\r\n\r\nimport Settings from './settings.jsx';\r\nimport About from './about.jsx';\r\n\r\nimport i18n from 'i18next';\r\nimport XHR from 'i18next-xhr-backend';\r\nimport { initReactI18next, Translation } from 'react-i18next';\r\n\r\nimport { api } from './api.js';\r\n\r\ni18n.use(XHR)\r\n    .use(initReactI18next)\r\n    .init({\r\n        fallbackLng: [\"en\", false],\r\n        ns: ['translation'],\r\n        backend: {\r\n            loadPath: process.env.PUBLIC_URL + '/translations/{{lng}}/{{ns}}.json'\r\n        },\r\n        react: {\r\n            useSuspense: false\r\n        }\r\n    });\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let s = {\r\n            lang: 'en'\r\n        };\r\n        const path = window.location.pathname.substr(2);\r\n        if (path.startsWith(\"settings\")) {\r\n            s.currentPane = \"settings\";\r\n        } else if (path.startsWith(\"about\")) {\r\n            s.currentPane = \"about\";\r\n        } else {\r\n            s.currentPane = \"invalid\";\r\n        }\r\n        this.state = s;\r\n    }\r\n    \r\n    componentDidMount() {\r\n        console.log(\"Loading language\");\r\n        api.lang().then(lang => {\r\n            this.setState({\r\n                lang: lang\r\n            });\r\n        }).catch(() => {\r\n            console.log(\"Language not obtainable\");\r\n        });\r\n        window.addEventListener(\"popstate\", this.popState.bind(this));\r\n    }\r\n    \r\n    popState(e) {\r\n        if (document.location.pathname.startsWith(\"//settings\")) {\r\n            this.setState({\r\n                currentPane: \"settings\"\r\n            });\r\n        } else if (document.location.pathname.startsWith(\"//about\")) {\r\n            this.setState({\r\n                currentPane: \"about\"\r\n            });\r\n        }\r\n    }\r\n    \r\n    componentNode() {\r\n        return <Translation>{(t, {i18n}) => {\r\n            switch (this.state.currentPane) {\r\n                case \"settings\":\r\n                    document.title = t('SETTINGS_TITLE');\r\n                    return <Settings />;\r\n                case \"about\":\r\n                    document.title = t('ABOUT_TITLE');\r\n                    return <About />\r\n                default:\r\n                    document.title = \"theWeb\";\r\n                    return <div>\r\n                        <Header title={t('INVALID_PAGE_TITLE')} />\r\n                        <div className=\"Content\">\r\n                            {t('INVALID_PAGE_CONTENT')}\r\n                        </div>\r\n                    </div>\r\n            }\r\n        }}</Translation>\r\n    }\r\n    \r\n    changePane(pane) {\r\n        try {\r\n            switch (pane) {\r\n                case \"settings\":\r\n                    window.history.pushState({}, \"\", \"theweb://settings\");\r\n                    break;\r\n                case \"about\":\r\n                    window.history.pushState({}, \"\", \"theweb://about\");\r\n                    break;\r\n            }\r\n        } catch (err) {\r\n            //Disregard\r\n        }\r\n        \r\n        this.setState({\r\n            currentPane: pane\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        return <Translation>{(t, {i18n}) => {\r\n            if (i18n.language !== this.state.lang) i18n.changeLanguage(this.state.lang);\r\n            return <div className=\"App\">\r\n                <Sidebar onChange={(paneName) => this.changePane(paneName)} currentPane={this.state.currentPane} />\r\n                <div className=\"AppContainer\">\r\n                    {this.componentNode()}\r\n                </div>\r\n            </div>\r\n        }}</Translation>\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}